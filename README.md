# Miniflux Slack アダプター

このプロジェクトは、セルフホストの Miniflux API から RSS フィードを取得し、言語モデル (LLM) を使用してフィルタリングおよび要約し、Slack に通知を送信する Slack アプリです。

## プロジェクト概要

Miniflux Slack アダプターは、LLM の力を活用してフィードの内容をフィルタリングおよび要約し、Slack でユーザーに通知することで、さまざまな RSS フィードからの情報を効率的に管理することを目的としています。このアプリは、タイムリーな情報を必要とするチームに特に役立ちます。

## 機能

- **RSS フィードの取得**: セルフホストの Miniflux API に接続して RSS フィードを取得します。
- **フィルタリングと要約**: 言語モデルを使用してフィードの内容をフィルタリングおよび要約します。
- **Slack 通知**: 要約された内容を指定された Slack チャンネルに送信します。

具体的な処理の流れは、以下の通りです。

`FEED_FETCH_INTERVAL_SECOND`（デフォルトでは 60s）おきにフィードを確認する。
取得したフィードに対して、Slack から取得したチャンネルの情報をもとにして、通知するチャンネルを LLM に投げて判定する。
チャンネルは、説明欄に `for_miniflux_slack_adaptor` という文字列があるチャンネルが通知の対象であり、
目的欄に振り分けのカテゴリが書いてある。
この一連の処理の中にプラグインの形式で回答内容を変換する処理を挟むことができ、好みに応じてフィルタリングや要約などの処理を入れることができる。

## 前提条件

- API アクセスが可能なセルフホストの Miniflux インスタンス。
- アプリの作成と管理が可能な Slack ワークスペース。
- コンテンツのフィルタリングと要約のための言語モデル API へのアクセス。

## セットアップ手順

1. **リポジトリのクローン**: このリポジトリをローカルマシンにクローンします。
```bash
git clone [repository-url]
```

2. **依存関係のインストール**: プロジェクトディレクトリに移動し、必要な依存関係をインストールします。
```bash
cd miniflux-slack-adaptor
npm install
```

3. **環境変数の設定**: ルートディレクトリに `.env` ファイルを作成し、以下の環境変数を追加します。
- `MINIFLUX_API_URL`: セルフホストの Miniflux インスタンスの URL。
- `MINIFLUX_API_KEY`: Miniflux API キー。
- `SLACK_BOT_TOKEN`: Slack ボットのトークン。
- `SLACK_CHANNEL_ID`: 通知を送信する Slack チャンネルの ID。
- `SLACK_SIGNING_SECRET`: Slack アプリの署名シークレット。
- `SLACK_APP_TOKEN`: Slack アプリのトークン。
- `LLM_API_KEY`: 言語モデルサービスの API キー。

4. **アプリの実行**: アプリケーションを開始します。
```bash
npm start
```

## 使用方法

アプリが実行されると、Miniflux から定期的に RSS フィードを取得し、LLM を使用して処理し、要約された内容を指定された Slack チャンネルに送信します。また、Slack チャンネルで "hello" とメッセージを送信すると、ボットが挨拶を返します。

## ライセンス

このプロジェクトは MIT ライセンスの下でライセンスされています。
